<div class="relative">
  <label *ngIf="label" class="block text-sm font-medium text-gray-700 mb-1">
    {{ label }}
  </label>
  <input
    [type]="type"
    [(ngModel)]="value"
    (ngModelChange)="handleInput($event)"
    (blur)="onTouched()"
    [placeholder]="placeholder"
    [disabled]="isLoading || disabled"
    class="appearance-none block w-full px-3 py-2 border rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
    [class.opacity-50]="isLoading"
    [class.cursor-not-allowed]="isLoading || disabled"
    [class.border-gray-300]="!isLoading"
    [class.border-gray-200]="isLoading"
  />
  <div
    *ngIf="isLoading"
    class="absolute inset-y-0 right-3 flex items-center"
  >
    <lucide-icon
      [img]="LoaderIcon"
      class="w-5 h-5 text-gray-400 animate-spin"
    ></lucide-icon>
  </div>
</div>
<div
  *ngIf="showError && errorMessage"
  class="text-red-500 text-sm mt-1"
>
  {{ errorMessage }}
</div>
